---
phase: 02-core-package
plan: 03
type: execute
wave: 1
depends_on: ["02-01"]
files_modified:
  - src/Imagile.Framework.Core/Attributes/CategoryAttribute.cs
  - src/Imagile.Framework.Core/Attributes/CountAttribute.cs
  - src/Imagile.Framework.Core/Attributes/NativeNameAttribute.cs
  - src/Imagile.Framework.Core/Attributes/HostedAttribute.cs
autonomous: true

must_haves:
  truths:
    - "Developer can apply CategoryAttribute to group enum values"
    - "Developer can apply CountAttribute to specify numeric metadata"
    - "Developer can apply NativeNameAttribute for localization"
    - "Developer can apply HostedAttribute for environment URLs"
    - "All attributes are sealed for reflection performance (CA1813)"
  artifacts:
    - path: "src/Imagile.Framework.Core/Attributes/CategoryAttribute.cs"
      provides: "String metadata attribute for categorization"
      exports: ["CategoryAttribute"]
      contains: "sealed class"
    - path: "src/Imagile.Framework.Core/Attributes/CountAttribute.cs"
      provides: "Integer metadata attribute"
      exports: ["CountAttribute"]
      contains: "sealed class"
    - path: "src/Imagile.Framework.Core/Attributes/NativeNameAttribute.cs"
      provides: "Localization string metadata attribute"
      exports: ["NativeNameAttribute"]
      contains: "sealed class"
    - path: "src/Imagile.Framework.Core/Attributes/HostedAttribute.cs"
      provides: "Environment URL metadata attribute"
      exports: ["HostedAttribute"]
      contains: "sealed class"
  key_links: []
---

<objective>
Implement metadata attributes (CategoryAttribute, CountAttribute, NativeNameAttribute, HostedAttribute).

Purpose: These attributes provide metadata for enum values - categorization, numeric values, localization, and environment configuration. They are self-contained (no inheritance) and sealed for optimal reflection performance.
Output: Four sealed attribute classes with full XML documentation and proper AttributeUsage declarations.
</objective>

<execution_context>
@C:\Users\kolat\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\kolat\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-core-package/02-RESEARCH.md
@.planning/phases/02-core-package/02-01-SUMMARY.md

<!-- CORE-08 Extraction Sources (related declarative attributes from imagile-app): -->
@/c/Code/imagile-app/Imagile.App.Domain/Attributes/CategoryAttribute.cs
@/c/Code/imagile-app/Imagile.App.Domain/Attributes/CountAttribute.cs
@/c/Code/imagile-app/Imagile.App.Domain/Attributes/NativeNameAttribute.cs
@/c/Code/imagile-app/Imagile.App.Domain/Attributes/HostedAttribute.cs
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create CategoryAttribute and CountAttribute</name>
  <files>
    src/Imagile.Framework.Core/Attributes/CategoryAttribute.cs
    src/Imagile.Framework.Core/Attributes/CountAttribute.cs
  </files>
  <action>
Create CategoryAttribute.cs in src/Imagile.Framework.Core/Attributes/:

```csharp
namespace Imagile.Framework.Core.Attributes;

/// <summary>
/// Specifies the category for an enum value.
/// Used for grouping and organizing related enum values in UI or processing logic.
/// </summary>
/// <param name="category">The category name</param>
/// <example>
/// <code>
/// enum ReportType
/// {
///     [Category("Financial")]
///     BalanceSheet,
///
///     [Category("Financial")]
///     IncomeStatement,
///
///     [Category("Operational")]
///     InventoryReport
/// }
/// </code>
/// </example>
[AttributeUsage(AttributeTargets.Field)]
public sealed class CategoryAttribute(string category) : Attribute
{
    /// <summary>
    /// Gets the category name.
    /// </summary>
    public string Category { get; } = category;
}
```

Create CountAttribute.cs in src/Imagile.Framework.Core/Attributes/:

```csharp
namespace Imagile.Framework.Core.Attributes;

/// <summary>
/// Specifies a count value for an enum member.
/// Can be used for various counting scenarios such as number of items to generate,
/// capacity limits, sort order weights, or other numeric metadata.
/// </summary>
/// <example>
/// <code>
/// enum PackageSize
/// {
///     [Count(5)]
///     Small,
///
///     [Count(10)]
///     Medium,
///
///     [Count(25)]
///     Large
/// }
/// </code>
/// </example>
[AttributeUsage(AttributeTargets.Field, AllowMultiple = false)]
public sealed class CountAttribute : Attribute
{
    /// <summary>
    /// Gets the count value.
    /// </summary>
    public int Value { get; }

    /// <summary>
    /// Initializes a new instance with the specified count value.
    /// </summary>
    /// <param name="value">The count value</param>
    public CountAttribute(int value)
    {
        Value = value;
    }
}
```

Key design decisions:
- Both sealed: Concrete attributes with no inheritance need (CA1813 compliance)
- CategoryAttribute uses primary constructor (CORE-02)
- CountAttribute uses traditional constructor (showing both patterns work)
- AllowMultiple = false on CountAttribute (explicit, though default)
  </action>
  <verify>
1. Run: dotnet build src/Imagile.Framework.Core
   - Must compile without errors or warnings
2. Verify sealed: grep "sealed class" src/Imagile.Framework.Core/Attributes/CategoryAttribute.cs
3. Verify sealed: grep "sealed class" src/Imagile.Framework.Core/Attributes/CountAttribute.cs
  </verify>
  <done>CategoryAttribute and CountAttribute exist as sealed classes with XML documentation and AttributeUsage declarations.</done>
</task>

<task type="auto">
  <name>Task 2: Create NativeNameAttribute and HostedAttribute</name>
  <files>
    src/Imagile.Framework.Core/Attributes/NativeNameAttribute.cs
    src/Imagile.Framework.Core/Attributes/HostedAttribute.cs
  </files>
  <action>
Create NativeNameAttribute.cs in src/Imagile.Framework.Core/Attributes/:

```csharp
namespace Imagile.Framework.Core.Attributes;

/// <summary>
/// Specifies the native language name for an enum value.
/// Used for displaying localized names or original-language terms.
/// </summary>
/// <param name="name">The native name in the original language</param>
/// <example>
/// <code>
/// enum Country
/// {
///     [NativeName("Deutschland")]
///     Germany,
///
///     [NativeName("Espana")]
///     Spain,
///
///     [NativeName("Nihon")]
///     Japan
/// }
/// </code>
/// </example>
[AttributeUsage(AttributeTargets.Field)]
public sealed class NativeNameAttribute(string name) : Attribute
{
    /// <summary>
    /// Gets the native name in the original language.
    /// </summary>
    public string Name { get; } = name;
}
```

Create HostedAttribute.cs in src/Imagile.Framework.Core/Attributes/:

```csharp
namespace Imagile.Framework.Core.Attributes;

/// <summary>
/// Specifies hosting URLs for an enum value representing a service or application.
/// Used to associate API and web URLs with service identifiers.
/// </summary>
/// <remarks>
/// <para>
/// This attribute is useful for defining service endpoints in a type-safe way,
/// avoiding magic strings scattered throughout code. The URLs can vary by environment
/// and are typically used for service discovery or configuration.
/// </para>
/// </remarks>
/// <example>
/// <code>
/// enum ExternalService
/// {
///     [Hosted(
///         ApiUrl = "https://api.payments.example.com",
///         WebUrl = "https://payments.example.com")]
///     PaymentGateway,
///
///     [Hosted(
///         ApiUrl = "https://api.shipping.example.com",
///         WebUrl = "https://track.shipping.example.com")]
///     ShippingProvider
/// }
/// </code>
/// </example>
[AttributeUsage(AttributeTargets.Field)]
public sealed class HostedAttribute : Attribute
{
    /// <summary>
    /// Gets or sets the API endpoint URL for the service.
    /// </summary>
    public string? ApiUrl { get; init; }

    /// <summary>
    /// Gets or sets the web/UI URL for the service.
    /// </summary>
    public string? WebUrl { get; init; }
}
```

Key design decisions:
- Both sealed: Concrete attributes with no inheritance need
- NativeNameAttribute uses primary constructor (required argument pattern)
- HostedAttribute uses init-only properties (both URLs are optional - CORE-02 pattern)
- HostedAttribute URLs are nullable (not all services have both endpoints)
  </action>
  <verify>
1. Run: dotnet build src/Imagile.Framework.Core
   - Must compile without errors or warnings
2. Verify all four sealed attributes exist
3. Run full solution build: dotnet build Imagile.Framework.sln
   - Must succeed
  </verify>
  <done>NativeNameAttribute and HostedAttribute exist as sealed classes with appropriate property patterns (primary constructor vs init-only properties).</done>
</task>

</tasks>

<verification>
1. All four attribute files exist in src/Imagile.Framework.Core/Attributes/
2. All four classes are sealed (grep "sealed class" for each)
3. All have proper AttributeUsage declarations
4. Solution builds: `dotnet build Imagile.Framework.sln` succeeds without warnings
5. All have XML documentation with examples
6. CORE-08 extraction verification: Compare implementations against imagile-app source files to confirm:
   - CategoryAttribute matches /c/Code/imagile-app/Imagile.App.Domain/Attributes/CategoryAttribute.cs pattern
   - CountAttribute matches /c/Code/imagile-app/Imagile.App.Domain/Attributes/CountAttribute.cs pattern
   - NativeNameAttribute matches /c/Code/imagile-app/Imagile.App.Domain/Attributes/NativeNameAttribute.cs pattern
   - HostedAttribute matches /c/Code/imagile-app/Imagile.App.Domain/Attributes/HostedAttribute.cs pattern
   (Namespace changed from Imagile.App.Domain.Attributes to Imagile.Framework.Core.Attributes)
</verification>

<success_criteria>
- CategoryAttribute is sealed with string Category property
- CountAttribute is sealed with int Value property
- NativeNameAttribute is sealed with string Name property
- HostedAttribute is sealed with optional ApiUrl and WebUrl properties
- All classes have comprehensive XML documentation with examples
- Project compiles without warnings
</success_criteria>

<output>
After completion, create `.planning/phases/02-core-package/02-03-SUMMARY.md`
</output>
