---
phase: 02-core-package
plan: 04
type: execute
wave: 1
depends_on: ["02-01"]
files_modified:
  - src/Imagile.Framework.Core/Attributes/DoNotUpdateAttribute.cs
autonomous: true

must_haves:
  truths:
    - "Developer can mark properties with DoNotUpdateAttribute to exclude from sync operations"
    - "DoNotUpdateAttribute is sealed for reflection performance"
    - "DoNotUpdateAttribute targets properties"
  artifacts:
    - path: "src/Imagile.Framework.Core/Attributes/DoNotUpdateAttribute.cs"
      provides: "Validation marker attribute for excluding properties from updates (satisfies CORE-05: validation attribute base pattern)"
      exports: ["DoNotUpdateAttribute"]
      contains: "sealed class"
  key_links: []
---

<!-- CORE-05 Requirement Coverage Note:
DoNotUpdateAttribute satisfies CORE-05 (Validation attribute base classes) as the base
validation marker pattern. Unlike association attributes which use inheritance (AssociatedAttribute
-> RequiresAttribute, IncludesAttribute), validation attributes follow the marker pattern where
each is a sealed, standalone attribute. DoNotUpdateAttribute establishes this pattern for the
validation attribute category. -->

<objective>
Implement the DoNotUpdateAttribute validation marker attribute.

Purpose: This attribute marks properties that should not be updated during data sync or reference data update operations. It's a "marker" attribute with no data - its presence alone indicates behavior.
Output: A sealed marker attribute class with full XML documentation.
</objective>

<execution_context>
@C:\Users\kolat\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\kolat\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-core-package/02-RESEARCH.md
@.planning/phases/02-core-package/02-01-SUMMARY.md

<!-- CORE-08 Extraction Source (related declarative attributes from imagile-app): -->
@/c/Code/imagile-app/Imagile.App.Domain/Attributes/DoNotUpdateAttribute.cs
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create DoNotUpdateAttribute marker attribute</name>
  <files>src/Imagile.Framework.Core/Attributes/DoNotUpdateAttribute.cs</files>
  <action>
Create DoNotUpdateAttribute.cs in src/Imagile.Framework.Core/Attributes/:

```csharp
namespace Imagile.Framework.Core.Attributes;

/// <summary>
/// Marks a property that should not be updated during reference data sync or batch update operations.
/// Properties with this attribute will only be set during initial insert, not subsequent updates.
/// </summary>
/// <remarks>
/// <para>
/// This is a marker attribute with no properties - its presence alone indicates that
/// the decorated property should be excluded from update operations. This is useful for:
/// </para>
/// <list type="bullet">
///   <item><description>Properties set once during creation (e.g., CreatedDate)</description></item>
///   <item><description>Properties managed by external systems during sync</description></item>
///   <item><description>Computed or derived values that shouldn't be overwritten</description></item>
///   <item><description>Reference data fields that represent historical state</description></item>
/// </list>
/// </remarks>
/// <example>
/// <code>
/// public class Product
/// {
///     public int Id { get; set; }
///
///     public string Name { get; set; }
///
///     [DoNotUpdate]
///     public DateTime CreatedDate { get; set; }
///
///     [DoNotUpdate]
///     public string OriginalSku { get; set; }
///
///     public string CurrentSku { get; set; }
/// }
/// </code>
/// </example>
[AttributeUsage(AttributeTargets.Property)]
public sealed class DoNotUpdateAttribute : Attribute
{
}
```

Key design decisions:
- Sealed: No inheritance needed, CA1813 compliance for reflection performance
- Targets Property: Used on entity/model properties
- No properties: Marker attribute pattern - presence indicates behavior
- Comprehensive remarks documenting use cases
  </action>
  <verify>
1. Run: dotnet build src/Imagile.Framework.Core
   - Must compile without errors or warnings
2. Verify sealed: grep "sealed class" src/Imagile.Framework.Core/Attributes/DoNotUpdateAttribute.cs
3. Verify targets Property: grep "AttributeTargets.Property" src/Imagile.Framework.Core/Attributes/DoNotUpdateAttribute.cs
  </verify>
  <done>DoNotUpdateAttribute exists as a sealed marker attribute targeting properties with comprehensive XML documentation.</done>
</task>

<!-- Task 2 removed: verification steps are covered by plan-level <verification> section -->

</tasks>

<verification>
1. All 8 attribute files exist and compile
2. Zero PackageReference elements in Core.csproj
3. Solution builds in Release mode without warnings
4. NuGet package (.nupkg) is generated successfully
5. XML documentation file is included in output
6. All public APIs have XML comments
7. CORE-08 extraction verification: Compare DoNotUpdateAttribute against imagile-app source:
   - DoNotUpdateAttribute matches /c/Code/imagile-app/Imagile.App.Domain/Attributes/DoNotUpdateAttribute.cs pattern
   (Namespace changed from Imagile.App.Domain.Attributes to Imagile.Framework.Core.Attributes)
</verification>

<success_criteria>
- DoNotUpdateAttribute is sealed marker attribute targeting Property
- Core package has all 8 attributes implemented
- Package has zero external dependencies
- Package builds and packs without errors or warnings
- XML documentation is generated for IntelliSense
</success_criteria>

<output>
After completion, create `.planning/phases/02-core-package/02-04-SUMMARY.md`
</output>
