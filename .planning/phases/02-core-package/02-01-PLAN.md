---
phase: 02-core-package
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/Imagile.Framework.Core/Imagile.Framework.Core.csproj
autonomous: true

must_haves:
  truths:
    - "Core project exists in src/ folder following established pattern"
    - "Core project has zero PackageReference elements"
    - "Core project compiles without warnings with AOT analysis enabled"
  artifacts:
    - path: "src/Imagile.Framework.Core/Imagile.Framework.Core.csproj"
      provides: "Core package project file with zero dependencies"
      contains: "net10.0"
  key_links:
    - from: "src/Imagile.Framework.Core/Imagile.Framework.Core.csproj"
      to: "Directory.Build.props"
      via: "MSBuild inheritance"
      pattern: "inherits shared properties"
---

<objective>
Create the Imagile.Framework.Core project infrastructure with zero dependencies.

Purpose: Establish the foundation for the Core package that will contain declarative attributes. The project must have zero PackageReference elements to fulfill the architectural constraint.
Output: A buildable Core project file ready for attribute implementations.
</objective>

<execution_context>
@C:\Users\kolat\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\kolat\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-core-package/02-RESEARCH.md
@src/Imagile.Framework.EntityFrameworkCore.Testing/Imagile.Framework.EntityFrameworkCore.Testing.csproj
@Directory.Build.props
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Core project structure and project file</name>
  <files>src/Imagile.Framework.Core/Imagile.Framework.Core.csproj</files>
  <action>
Create the Core project directory and project file:

1. Create folder: src/Imagile.Framework.Core/
2. Create folder: src/Imagile.Framework.Core/Attributes/

3. Create Imagile.Framework.Core.csproj with:
   - SDK: Microsoft.NET.Sdk
   - TargetFramework: net10.0 (will also inherit from Directory.Build.props)
   - ImplicitUsings: enable
   - Nullable: enable
   - IsPackable: true (explicit, though inherited)
   - IsTestProject: false (to prevent false positive from name patterns)

   NuGet Package Metadata:
   - PackageId: Imagile.Framework.Core
   - RootNamespace: Imagile.Framework.Core
   - AssemblyName: Imagile.Framework.Core
   - Description: "Zero-dependency declarative attributes for building opinionated .NET applications. Contains association, metadata, and validation marker attributes."
   - PackageTags: attributes;validation;metadata;declarative;enum;framework
   - PackageReadmeFile: README.md

   ItemGroup for README:
   - None Include="..\..\README.md" Pack="true" PackagePath="\"

   CRITICAL: NO PackageReference elements. This is a zero-dependency package.
   The ItemGroup for packages should either be empty or omitted entirely.
  </action>
  <verify>
1. Run: dotnet build src/Imagile.Framework.Core/Imagile.Framework.Core.csproj
   - Must succeed (even with no source files, SDK-style projects can build)
2. Verify no PackageReference: grep -c "PackageReference" src/Imagile.Framework.Core/Imagile.Framework.Core.csproj should return 0
3. Run: dotnet pack src/Imagile.Framework.Core -c Release
   - Must produce Imagile.Framework.Core.*.nupkg in bin/Release/
  </verify>
  <done>Core project file exists at src/Imagile.Framework.Core/ with zero dependencies, compiles successfully, and produces a NuGet package.</done>
</task>

<task type="auto">
  <name>Task 2: Add Core project to solution</name>
  <files>Imagile.Framework.sln</files>
  <action>
Add the Core project to the solution:

1. Run: dotnet sln Imagile.Framework.sln add src/Imagile.Framework.Core/Imagile.Framework.Core.csproj

This integrates the Core project into the solution build.
  </action>
  <verify>
1. Run: dotnet sln Imagile.Framework.sln list
   - Should show both Imagile.Framework.Core and Imagile.Framework.EntityFrameworkCore.Testing
2. Run: dotnet build Imagile.Framework.sln
   - Both projects must build successfully
  </verify>
  <done>Core project added to solution and builds as part of solution-wide build.</done>
</task>

</tasks>

<verification>
1. Full solution builds: `dotnet build Imagile.Framework.sln` succeeds
2. Core project has zero dependencies: No PackageReference elements in .csproj
3. Core package can be created: `dotnet pack src/Imagile.Framework.Core -c Release` produces .nupkg
4. AOT analysis enabled: Build output shows no trim/AOT warnings (inherited from Directory.Build.props)
</verification>

<success_criteria>
- Imagile.Framework.Core project exists at src/Imagile.Framework.Core/
- Project file has zero PackageReference elements
- Solution builds successfully with both projects
- NuGet package can be created
</success_criteria>

<output>
After completion, create `.planning/phases/02-core-package/02-01-SUMMARY.md`
</output>
